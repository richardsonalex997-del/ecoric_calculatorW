<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Calculator for Farmers: EcoRic</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-image: url('https://raw.githubusercontent.com/richardsonalex997-del/ecoric_backround1/b1b761422f5a8d65761fa65278c34a91d584e017/5136c25c-746c-4746-9740-4174045a6fc9%20(1).png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: #333;
            background-attachment: fixed;
        }
        .main-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .left-header { display: flex; align-items: center; gap: 10px; }
        .logo-image { max-width: 100px; height: auto; }
        #current-date { background-color: rgba(240,247,255,0.7); padding: 10px 15px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); font-size: 1em; font-weight: 600; color: #4CAF50; display: flex; align-items: center; gap: 8px; border: 1px solid rgba(76,175,80,0.3); white-space: nowrap; }
        #current-date::before { content: 'Calendar'; font-size: 1.2em; }
        h1 { color: #4CAF50; font-weight: 700; font-size: 2em; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .form-container { display: flex; flex-direction: column; gap: 10px; align-items: center; }
        .form-group { width: 100%; margin-bottom: 20px; display: flex; flex-direction: column; }
        .area-form { max-width: 400px; width: 100%; margin: 0 auto; }
        .crop-card, .area-card { background-color: rgba(240,247,255,0.5); border-radius: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); padding: 20px; flex-grow: 1; display: flex; flex-direction: column; position: relative; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #000; font-size: 1.2em; }
        .crop-options { flex-grow: 1; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; }
        .crop-option { display: flex; align-items: center; padding: 12px; border-radius: 8px; transition: all 0.3s ease; cursor: pointer; }
        .crop-option:hover { background-color: rgba(255,255,255,0.87); box-shadow: 0 8px 20px rgba(0,0,0,0.18); }
        .crop-option input { margin-right: 10px; }
        input[type="number"] { width: 100%; padding: 12px 70px 12px 12px; border: 1px solid #ccc; border-radius: 8px; background-color: rgba(255,255,255,0.8); font-size: 1.2em; font-weight: 600; transition: border-color 0.3s, box-shadow 0.3s; color: #000; appearance: textfield; box-sizing: border-box; }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input:focus { border-color: #2196F3; box-shadow: 0 0 5px rgba(33,150,243,0.5); outline: none; }
        .area-suffix { position: absolute; bottom: 28px; right: 30px; color: #333; font-size: 1em; pointer-events: none; z-index: 1; }
        #instruction-message { text-align: center; font-size: 1.2em; color: #222; font-weight: 600; margin: 5px 0; padding: 15px 20px; background-color: rgba(255,255,255,0.9); border-radius: 10px; max-width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        #total-consumption { font-size: 0.9em; color: #4CAF50; background-color: rgba(76,175,80,0.2); padding: 5px 10px; border-radius: 6px; }
        #results { margin-top: 40px; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .result-section { background-color: rgba(255,255,255,0.9); padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: transform 0.2s; }
        .result-section:hover { transform: translateY(-5px); }
        .result-section h2 { color: #4CAF50; font-size: 1.2em; margin-bottom: 10px; }
        canvas { max-width: 100%; margin-top: 10px; }
        footer { text-align: center; margin-top: 40px; }
        .label-image { max-width: 100%; height: auto; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

        .crop-select-mobile { display: none; }

.crop-select-mobile { display: none; }

@media (max-width: 768px) {
    body { padding: 10px; }
    .main-header { 
        flex-direction: column; 
        align-items: center; 
        text-align: center; 
        gap: 10px; 
    }
    .left-header { justify-content: center; }
    .logo-image { max-width: 80px; }
    h1 { font-size: 1.8em; }
    #current-date { font-size: 0.9em; padding: 8px 12px; }

    /* –ü–û–õ–ù–û–ï –¶–ï–ù–¢–†–ò–†–û–í–ê–ù–ò–ï –í–°–ï–• –ë–õ–û–ö–û–í –ù–ê –ú–û–ë–ò–õ–¨–ù–´–• */
    .form-container { 
        align-items: center; 
        width: 100%; 
    }
    .form-group { 
        width: 100%; 
        max-width: 420px; 
        margin: 0 auto 20px auto; 
        align-items: center; 
    }
    .crop-card, 
    .area-card, 
    #instruction-message,
    #results,
    footer {
        width: 100%;
        max-width: 420px;
        margin-left: auto;
        margin-right: auto;
    }
    #results .result-section {
        width: 100%;
        max-width: 420px;
    }
    .label-image {
        max-width: 90%;
        display: block;
        margin: 0 auto;
    }

    input[type="number"] { font-size: 1em; padding: 10px 60px 10px 10px; }
    .area-suffix { bottom: 26px; right: 25px; font-size: 0.9em; }
    #instruction-message { font-size: 0.9em; padding: 12px; }
    #results { grid-template-columns: 1fr; }
    canvas { height: 150px !important; }

    #crops { display: none; }
    .crop-select-mobile {
        display: block;
        width: 100%;
        max-width: 420px;
        min-height: 140px;
        padding: 12px;
        border: 2px solid rgba(76,175,80,0.4);
        border-radius: 12px;
        background: rgba(255,255,255,0.95);
        font-size: 1.1em;
        font-family: 'Poppins', sans-serif;
    }
    .crop-select-mobile option { padding: 8px 0; }
    .crop-card label::after {
        content: " (tap & hold to select multiple)";
        font-size: 0.8em;
        color: #555;
        display: block;
        margin-top: 4px;
    }
}
    </style>
</head>
<body>
    <header class="main-header">
        <div class="left-header">
            <img src="https://raw.githubusercontent.com/richardsonalex997-del/ecoric_logo.png/9504296080f2ac886a5a876bd46a111a92e6b557/ecoric_label.png.png" alt="EcoRic Logo" class="logo-image">
            <h1>Calculator</h1>
        </div>
        <div id="current-date"></div>
    </header>

    <div class="form-container">
        <div class="form-group crop-card">
            <label>Select crop(s):</label>

            <!-- –î–µ—Å–∫—Ç–æ–ø ‚Äî —Å —ç–º–æ–¥–∑–∏ -->
            <div id="crops" class="crop-options">
                <label class="crop-option"><input type="checkbox" value="maize"> üåΩ Maize</label>
                <label class="crop-option"><input type="checkbox" value="beans"> üå± Beans</label>
                <label class="crop-option"><input type="checkbox" value="tomatoes"> üçÖ Tomatoes</label>
                <label class="crop-option"><input type="checkbox" value="potatoes"> ü•î Potatoes</label>
                <label class="crop-option"><input type="checkbox" value="tea_young"> üçµ Tea (young)</label>
                <label class="crop-option"><input type="checkbox" value="tea_mature"> üçµ Tea (mature)</label>
                <label class="crop-option"><input type="checkbox" value="cabbage"> ü•¨ Cabbage</label>
                <label class="crop-option"><input type="checkbox" value="spinach"> üåø Spinach</label>
                <label class="crop-option"><input type="checkbox" value="onions"> üßÖ Onions</label>
                <label class="crop-option"><input type="checkbox" value="peppers"> üå∂Ô∏è Peppers</label>
            </div>

            <!-- –ú–æ–±–∏–ª—å–Ω—ã–π ‚Äî —Å —ç–º–æ–¥–∑–∏ -->
            <select class="crop-select-mobile" multiple>
                <option value="maize"> üåΩ Maize</option>
                <option value="beans"> üå± Beans</option>
                <option value="tomatoes"> üçÖ Tomatoes</option>
                <option value="potatoes"> ü•î Potatoes</option>
                <option value="tea_young"> üçµ Tea (young)</option>
                <option value="tea_mature"> üçµ Tea (mature)</option>
                <option value="cabbage"> ü•¨ Cabbage</option>
                <option value="spinach"> üåø Spinach</option>
                <option value="onions"> üßÖ Onions</option>
                <option value="peppers"> üå∂Ô∏è Peppers</option>
            </select>
        </div>

        <div class="form-group area-form area-card">
            <label for="area">Field area (in acres):</label>
            <input type="number" id="area" min="0.01" max="10000" step="0.01" value="1" placeholder="Enter area">
            <span class="area-suffix">acres</span>
        </div>

        <p id="instruction-message">
            Select crops and enter area. <span id="total-consumption"></span>
        </p>
    </div>

    <div id="results"></div>

    <footer>
        <img src="https://raw.githubusercontent.com/richardsonalex997-del/ecotic_product_label.png/79a0064929704a9164eec0f69a1be9f759b1be4e/2025-11-20_09-37-32.png" alt="EcoRic Product Label" class="label-image">
    </footer>

    <script>
        const crops = {
            maize: { baseYield: 90, unit: 'bags/ha', price: 3000, increase: 15, emoji: 'üåΩ' },
            beans: { baseYield: 6, unit: 'bags/ha', price: 8000, increase: 20, emoji: 'üå±' },
            tomatoes: { baseYield: 30, unit: 'tons/ha', price: 40000, increase: 50, emoji: 'üçÖ' },
            potatoes: { baseYield: 20, unit: 'tons/ha', price: 30000, increase: 50, emoji: 'ü•î' },
            tea_young: { baseYield: 2, unit: 'tons/ha', price: 500, increase: 30, emoji: 'üçµ' },
            tea_mature: { baseYield: 4, unit: 'tons/ha', price: 400, increase: 25, emoji: 'üçµ' },
            cabbage: { baseYield: 40, unit: 'tons/ha', price: 20000, increase: 40, emoji: 'ü•¨' },
            spinach: { baseYield: 15, unit: 'tons/ha', price: 50000, increase: 60, emoji: 'üåø' },
            onions: { baseYield: 25, unit: 'tons/ha', price: 35000, increase: 35, emoji: 'üßÖ' },
            peppers: { baseYield: 20, unit: 'tons/ha', price: 45000, increase: 45, emoji: 'üå∂Ô∏è' }
        };

        const ACRES_TO_HA = 0.404686;
        const ACRES_TO_M2 = 4046.86;
        const ECORIC_PER_M2_ML = 1;

        const cropContainer = document.getElementById('crops');
        const mobileSelect = document.querySelector('.crop-select-mobile');
        const areaInput = document.getElementById('area');
        const resultsDiv = document.getElementById('results');
        const totalConsumption = document.getElementById('total-consumption');

        function getSelectedCrops() {
            if (window.innerWidth <= 768 && mobileSelect) {
                return Array.from(mobileSelect.selectedOptions).map(o => o.value);
            }
            return Array.from(cropContainer.querySelectorAll('input:checked')).map(i => i.value);
        }

        function calculate() {
            const selected = getSelectedCrops();
            const area = parseFloat(areaInput.value) || 0;

            resultsDiv.innerHTML = '';
            totalConsumption.textContent = '';

            if (!area || selected.length === 0) return;

            const totalLiters = (area * ACRES_TO_M2 * ECORIC_PER_M2_ML * 3) / 1000;
            totalConsumption.textContent = `EcoRic: ${totalLiters.toFixed(2)} L (3 sprays)`;

            selected.forEach(key => {
                const c = crops[key];
                const ha = area * ACRES_TO_HA;
                let base = c.baseYield * ha;
                let total = base * (1 + c.increase / 100);
                let unit = c.unit.includes('bags') ? 'bags' : 'tons';
                if (unit === 'tons' && c.price < 1000) { base *= 1000; total *= 1000; unit = 'kg'; }
                const baseIncome = base * c.price;
                const extraIncome = (total - base) * c.price;

                const card = document.createElement('div');
                card.className = 'result-section';
                card.innerHTML = `
                    <h2>${c.emoji} ${key.replace(/_/g,' ')}</h2>
                    <p><strong>Base yield:</strong> ${base.toFixed(2)} ${unit}</p>
                    <p><strong>Yield with EcoRic:</strong> ${total.toFixed(2)} ${unit}</p>
                    <p><strong>Base income:</strong> ${baseIncome.toFixed(0)} Ksh</p>
                    <p><strong>Additional income:</strong> <span style="color:#4CAF50;font-size:1.2em;">+${extraIncome.toFixed(0)} Ksh</span></p>
                    <canvas id="chart_${key}"></canvas>
                `;
                resultsDiv.appendChild(card);

                setTimeout(() => {
                    new Chart(document.getElementById(`chart_${key}`), {
                        type: 'bar',
                        data: { labels: ['Without EcoRic', 'With EcoRic'], datasets: [{ data: [base, total], backgroundColor: ['#FF6B6B', '#4CAF50'], borderWidth: 0 }] },
                        options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } }
                    });
                }, 100);
            });
        }

        cropContainer.addEventListener('change', calculate);
        if (mobileSelect) mobileSelect.addEventListener('change', calculate);
        areaInput.addEventListener('input', calculate);

        const today = new Date().toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });
        document.getElementById('current-date').textContent = today;
        fetch('https://wttr.in/Nairobi?format=%c+%t&lang=en')
            .then(r => r.text())
            .then(w => document.getElementById('current-date').textContent = `${today} | Nairobi ${w.trim()}`)
            .catch(() => {});

        calculate();
    </script>
</body>
</html>
